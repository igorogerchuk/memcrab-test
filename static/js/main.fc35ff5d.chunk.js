(this["webpackJsonpmemcrab-test"]=this["webpackJsonpmemcrab-test"]||[]).push([[0],{1:function(e,t,n){e.exports={formWrapper:"Inputs_formWrapper__3qvIq",form:"Inputs_form__2CPZL",formTitle:"Inputs_formTitle__8nqar",inputWrapper:"Inputs_inputWrapper__1ECfZ",label:"Inputs_label__2t_1J",input:"Inputs_input__u-M3Q",submitButton:"Inputs_submitButton__BGAA0"}},17:function(e,t,n){e.exports={tableWrapper:"Array_tableWrapper__3r1cA",table:"Array_table__1EVmf",addCell:"Array_addCell__3PXuk"}},22:function(e,t,n){e.exports={simpleTd:"ArrayCell_simpleTd__3ouJW"}},23:function(e,t,n){e.exports={sumCell:"SumCell_sumCell__1CXIY"}},24:function(e,t,n){e.exports={avarageTd:"AvarageRow_avarageTd__ZvmOI"}},25:function(e,t,n){e.exports={button:"AddRowButton_button__3egkv"}},28:function(e,t,n){e.exports={container:"App_container__1wjkN"}},31:function(e,t,n){e.exports=n(45)},44:function(e,t,n){e.exports={removeButton:"ArrayRow_removeButton__1w377 AddRowButton_button__3egkv",removeButtonTd:"ArrayRow_removeButtonTd__1yrTV Array_addCell__3PXuk"}},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),u=n(4),c=n(7),i=n(9),s=n(10),m=n(12),f=n(11),d=n(13),p=n(2),v={SAVE_PARAMS:"SAVE_PARAMS",SAVE_ARRAY:"SAVE_ARRAY",SAVE_ROWS:"SAVE_ROWS",SAVE_CELLS:"SAVE_CELLS",REMOVE_ROW:"REMOVE_ROW",ADD_ROW:"ADD_ROW",INCREASE:"INCREASE",ILLUMINATE:"ILLUMINATE"},_=n(19),b=function(e,t){for(var n=[],a={},r={},o=0;o<e;o++){var l=_();n[o]=l,a[l]=[];for(var u=0;u<t;u++){var c=_();a[l][u]=c,r[c]={id:c,amount:E()}}}return{array:n,rows:a,cells:r}},E=function(){return Math.floor(1e3*Math.random())},y=n(1),A=n.n(y),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={m:"",n:"",x:""},n.inputHandler=function(e){var t=e.target,a=t.id,r=t.value;n.setState((function(e){return Object(c.a)({},e,Object(u.a)({},a,r))}))},n.submitHandler=function(e){e.preventDefault();var t=n.state,a=t.m,r=t.n,o=t.x,l=n.props,u=l.onSaveParams,c=l.onSaveArray,i=l.onSaveRows,s=l.onSaveCells;if(a<=0||r<=0||o<0)alert("array parameters must be more then 0");else{u({n:r,x:o});var m=b(a,r),f=m.array,d=m.rows,p=m.cells;c(f),i(d),s(p),n.setState({m:"",n:"",x:""})}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.m,n=e.n,a=e.x;return r.a.createElement("div",{className:A.a.formWrapper},r.a.createElement("h1",{className:A.a.formTitle},"Enter table parameters"),r.a.createElement("form",{className:A.a.form,onSubmit:this.submitHandler},r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:A.a.label},"Rows quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"rows",id:"m",onChange:this.inputHandler,value:t,placeholder:"0"})),r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"n",className:A.a.label},"Columns quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"columns",id:"n",onChange:this.inputHandler,value:n,placeholder:"0"})),r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:A.a.label},"Illuminated cells quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"illuminate",id:"x",onChange:this.inputHandler,value:a,placeholder:"0"})),r.a.createElement("div",null,r.a.createElement("input",{className:A.a.submitButton,type:"submit",value:"Generate"}))))}}]),t}(a.Component),S=Object(p.b)(null,(function(e){return{onSaveParams:function(t){return e(function(e){return{type:v.SAVE_PARAMS,payload:{params:e}}}(t))},onSaveArray:function(t){return e(function(e){return{type:v.SAVE_ARRAY,payload:{array:e}}}(t))},onSaveRows:function(t){return e(function(e){return{type:v.SAVE_ROWS,payload:{rows:e}}}(t))},onSaveCells:function(t){return e(function(e){return{type:v.SAVE_CELLS,payload:{cells:e}}}(t))}}}))(h),O=n(29),w=n(21),R=function(e){return e.array},g=function(e){return Number(e.params.x)},j=function(e){return e.rows},N=function(e){return e.cells},C=function(e,t){return function(e,t){return e.rows[t]}(e,t).cells.reduce((function(e,t){return e+t.amount}),0)},V=n(19),W=Object(w.a)([R],(function(e){for(var t=[],n=0;n<e[n].length;n++){for(var a=0,r=0;r<e.length;r++)a+=e[r].cells[n].amount;t.push({id:V(),amount:(a/e.length).toFixed(2)})}return t})),I=n(22),x=n.n(I),T=r.a.memo((function(e){var t=e.cell,n=e.id,a=e.onHover,o=e.offHover,l={background:"linear-gradient(110deg,#eee 0%,#e3e3e3 10%,#fff 20%,#fff 25%,#f0f0f0 26%,#fff 28%,#ddd 55%,#eee 100%)"};return e.illuminated[n]&&(l.background="linear-gradient(110deg, #f90c04 0%, #ed413b 10%, #fff 20%, #fff 25%, #f0f0f0 26%, #fff 28%, #f53d37 55%, #f90c04 100%)"),r.a.createElement("td",{className:x.a.simpleTd,id:n,onMouseEnter:a,onMouseLeave:o,style:l},t.amount)}),(function(e,t){var n=e.illuminated,a=e.id;return t.illuminated[a]===n[a]})),H=n(23),L=n.n(H),M=(Object(p.b)((function(e,t){var n=t.id;return{sum:C(e,n)}}))(r.a.memo((function(e){var t=e.sum,n=e.onHover;return r.a.createElement("td",{onMouseEnter:n,onMouseLeave:n,className:L.a.sumCell},t)}))),n(44),r.a.memo((function(e){var t=e.row,n=e.id,a=e.onHover,o=e.offHover,l=e.illuminated,u=e.cells;return r.a.createElement("tr",{id:n},t.map((function(e){return r.a.createElement(T,{key:e,id:e,onHover:a,offHover:o,illuminated:l,cell:u[e]})})))}),(function(e,t){var n=e.illuminated,a=e.row,r=!0,o=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var i=u.value;if(t.illuminated[i]!==n[i])return!1}}catch(s){o=!0,l=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}return!0}))),k=n(24),B=n.n(k),D=(Object(p.b)((function(e){return{averageRow:W(e)}}))((function(e){var t=e.averageRow;return r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("td",{className:B.a.avarageTd,key:e.id,id:e.id},e.amount)})))})),n(25)),P=n.n(D),X=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).addHandler=function(){(0,n.props.onAdd)(b(1))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:P.a.button,onClick:this.addHandler},"+")}}]),t}(a.Component),q=(Object(p.b)((function(e){return{}}),(function(e){return{onAdd:function(t){return e(function(e){return{type:v.ADD_ROW,payload:{newRow:e}}}(t))}}}))(X),n(17)),Y=n.n(q),F=n(26),J=n(30),U=n(27),Q=function(e,t,n){Object(U.a)(e[t]);var a=Object(F.a)(e,[t].map(J.a)),r=Object.values(a);if(n<r.length){var o=e[t];r.sort((function(e,t){return Math.abs(e.amount-o.amount)-Math.abs(t.amount-o.amount)}))}var l=r.slice(0,n).reduce((function(e,t){return Object(c.a)({},e,Object(u.a)({},t.id,!0))}),{});return Object(c.a)(Object(u.a)({},t,!0),l)},Z=Object(p.b)((function(e){return{array:R(e),rows:j(e),cells:N(e),illuminatedQty:g(e)}}))(r.a.memo((function(e){var t=e.array,n=e.rows,o=e.cells,l=e.illuminatedQty,u=Object(a.useState)({}),c=Object(O.a)(u,2),i=c[0],s=c[1],m=function(e){var t=e.target.id,n=Q(o,t,l);s(n)},f=function(e){s({})};return t.length>0&&r.a.createElement("div",{className:Y.a.tableWrapper},r.a.createElement("table",{className:Y.a.table},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(M,{key:e,id:e,row:n[e],cells:o,onHover:m,offHover:f,illuminated:i})})))))}))),G=n(28),z=n.n(G),K=function(){return r.a.createElement("div",{className:z.a.container},r.a.createElement(S,null),r.a.createElement(Z,null))},$=n(6),ee=Object($.b)({array:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_ARRAY:return t.payload.array;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_ROWS:return t.payload.rows;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_CELLS:return t.payload.cells;default:return e}},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_PARAMS:return t.payload.params;default:return e}}}),te=Object($.c)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(p.a,{store:te},r.a.createElement(K,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.fc35ff5d.chunk.js.map