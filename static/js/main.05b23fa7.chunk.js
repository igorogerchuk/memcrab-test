(this["webpackJsonpmemcrab-test"]=this["webpackJsonpmemcrab-test"]||[]).push([[0],{1:function(e,t,a){e.exports={formWrapper:"Inputs_formWrapper__3qvIq",form:"Inputs_form__2CPZL",formTitle:"Inputs_formTitle__8nqar",inputWrapper:"Inputs_inputWrapper__1ECfZ",label:"Inputs_label__2t_1J",input:"Inputs_input__u-M3Q",submitButton:"Inputs_submitButton__BGAA0"}},10:function(e,t,a){e.exports={tableWrapper:"Array_tableWrapper__3r1cA",table:"Array_table__1EVmf",addCell:"Array_addCell__3PXuk",addButton:"Array_addButton__1QRXc"}},16:function(e,t,a){e.exports={removeButton:"ArrayRow_removeButton__1w377 Array_addButton__1QRXc",removeButtonTd:"ArrayRow_removeButtonTd__1yrTV Array_addCell__3PXuk"}},24:function(e,t,a){e.exports={simpleTd:"ArrayCell_simpleTd__3ouJW"}},25:function(e,t,a){e.exports={sumCell:"SumCell_sumCell__1CXIY"}},26:function(e,t,a){e.exports={avarageTd:"AvarageCell_avarageTd__2-KRy"}},27:function(e,t,a){e.exports={container:"App_container__1wjkN"}},30:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),u=a(3),c=a(2),i=a(20),s=a(21),m=a(28),f=a(22),d=a(29),p=a(5),v={SAVE_PARAMS:"SAVE_PARAMS",SAVE_ARRAY:"SAVE_ARRAY",SAVE_ROWS:"SAVE_ROWS",SAVE_CELLS:"SAVE_CELLS",REMOVE_ROW:"REMOVE_ROW",ADD_ROW:"ADD_ROW",INCREASE:"INCREASE",ILLUMINATE:"ILLUMINATE"},_=a(41),E=function(e,t){for(var a=[],n={},r={},o=0;o<e;o++){var l=_();a[o]=l,n[l]=[];for(var u=0;u<t;u++){var c=_();n[l][u]=c,r[c]={id:c,amount:b()}}}return{array:a,rows:n,cells:r}},b=function(){return Math.floor(1e3*Math.random())},y=a(1),A=a.n(y),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={m:"",n:"",x:""},a.inputHandler=function(e){var t=e.target,n=t.id,r=t.value;a.setState((function(e){return Object(c.a)({},e,Object(u.a)({},n,r))}))},a.submitHandler=function(e){e.preventDefault();var t=a.state,n=t.m,r=t.n,o=t.x,l=a.props,u=l.onSaveParams,c=l.onSaveArray,i=l.onSaveRows,s=l.onSaveCells;if(n<=0||r<=0||o<0)alert("array parameters must be more then 0");else{u({n:r,x:o});var m=E(n,r),f=m.array,d=m.rows,p=m.cells;c(f),i(d),s(p),a.setState({m:"",n:"",x:""})}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.m,a=e.n,n=e.x;return r.a.createElement("div",{className:A.a.formWrapper},r.a.createElement("h1",{className:A.a.formTitle},"Enter table parameters"),r.a.createElement("form",{className:A.a.form,onSubmit:this.submitHandler},r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:A.a.label},"Rows quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"rows",id:"m",onChange:this.inputHandler,value:t,placeholder:"0"})),r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"n",className:A.a.label},"Columns quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"columns",id:"n",onChange:this.inputHandler,value:a,placeholder:"0"})),r.a.createElement("div",{className:A.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:A.a.label},"Illuminated cells quantity:"),r.a.createElement("input",{className:A.a.input,type:"number",name:"illuminate",id:"x",onChange:this.inputHandler,value:n,placeholder:"0"})),r.a.createElement("div",null,r.a.createElement("input",{className:A.a.submitButton,type:"submit",value:"Generate"}))))}}]),t}(n.Component),R=Object(p.b)(null,(function(e){return{onSaveParams:function(t){return e(function(e){return{type:v.SAVE_PARAMS,payload:{params:e}}}(t))},onSaveArray:function(t){return e(function(e){return{type:v.SAVE_ARRAY,payload:{array:e}}}(t))},onSaveRows:function(t){return e(function(e){return{type:v.SAVE_ROWS,payload:{rows:e}}}(t))},onSaveCells:function(t){return e(function(e){return{type:v.SAVE_CELLS,payload:{cells:e}}}(t))}}}))(O),S=a(12),h=a(24),g=a.n(h),w=r.a.memo((function(e){var t=e.cell,a=e.id,n=e.onHover,o=e.offHover,l=e.illuminated,u=e.onIncrease,c=e.sumHover,i=e.sum,s={background:"linear-gradient(110deg,#eee 0%,#e3e3e3 10%,#fff 20%,#fff 25%,#f0f0f0 26%,#fff 28%,#ddd 55%,#eee 100%)"},m=t.amount;if(l[a]&&(s.background="linear-gradient(110deg, #f90c04 0%, #ed413b 10%, #fff 20%, #fff 25%, #f0f0f0 26%, #fff 28%, #f53d37 55%, #f90c04 100%)"),c){var f=t.amount/i*100;s.background="linear-gradient(to top, #fff200, #1e9600 ".concat(f,"%, transparent ").concat(f,"%)"),m=f.toFixed(1)+"%"}return r.a.createElement("td",{className:g.a.simpleTd,onClick:u,id:a,onMouseEnter:n,onMouseLeave:o,style:s},m)}),(function(e,t){var a=e.illuminated,n=e.id,r=e.cell,o=e.sumHover;return t.illuminated[n]===a[n]&&(t.cell.amount===r.amount&&t.sumHover===o)})),N=a(25),C=a.n(N),j=r.a.memo((function(e){var t=e.sum,a=e.onHover;return r.a.createElement("td",{onMouseEnter:a,onMouseLeave:a,className:C.a.sumCell},t)}),(function(e,t){var a=e.sum;return t.sum===a})),I=a(16),W=a.n(I),V=r.a.memo((function(e){var t=e.row,a=e.id,o=e.onHover,l=e.offHover,u=e.illuminated,c=e.cells,i=e.onIncrease,s=e.sumCell,m=e.onRemove,f=Object(n.useState)(!1),d=Object(S.a)(f,2),p=d[0],v=d[1];return r.a.createElement("tr",{id:a},t.map((function(e){return r.a.createElement(w,{sumHover:p,sum:s,key:e,id:e,onHover:o,offHover:l,illuminated:u,cell:c[e],onIncrease:i})})),r.a.createElement(j,{onHover:function(){return v((function(e){return!e}))},sum:s}),r.a.createElement("td",{className:W.a.removeButtonTd},r.a.createElement("button",{className:W.a.removeButton,onClick:m},"\xd7")))}),(function(e,t){var a=e.illuminated,n=e.row,r=e.cells,o=!0,l=!1,u=void 0;try{for(var c,i=n[Symbol.iterator]();!(o=(c=i.next()).done);o=!0){var s=c.value;if(t.illuminated[s]!==a[s])return!1;if(t.cells[s].amount!==r[s].amount)return!1}}catch(m){l=!0,u=m}finally{try{o||null==i.return||i.return()}finally{if(l)throw u}}return!0})),M=a(17),H=function(e){return e.array},T=function(e){return e.rows},x=function(e){return e.cells},D=function(e){return Number(e.params.n)},L=function(e){return Number(e.params.x)},k=Object(M.a)([T,x],(function(e,t){for(var a=[],n=Object.values(e),r=0;r<n.length;r++){for(var o=0,l=0;l<n[r].length;l++)o+=t[n[r][l]].amount;a.push(o)}return a})),B=Object(M.a)([T,x],(function(e,t){for(var a=[],n=Object.values(e),r=0;r<n[0].length;r++){for(var o=0,l=0;l<n.length;l++)o+=t[n[l][r]].amount;a.push((o/n.length).toFixed(2))}return a})),P=a(26),X=a.n(P),Q=r.a.memo((function(e){var t=e.averageCell;return r.a.createElement("td",{className:X.a.avarageTd},t)})),q=Object(p.b)((function(e){return{averageRow:B(e)}}))((function(e){var t=e.averageRow;return r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement(Q,{key:t,averageCell:e})})))})),F=a(8),Y=a(9),J=function(e,t,a){e[t];var n=Object(F.a)(e,[t].map(Y.a)),r=Object.values(n);if(a<r.length){var o=e[t];r.sort((function(e,t){return Math.abs(e.amount-o.amount)-Math.abs(t.amount-o.amount)}))}var l=r.slice(0,a).reduce((function(e,t){return Object(c.a)({},e,Object(u.a)({},t.id,!0))}),{});return Object(c.a)(Object(u.a)({},t,!0),l)},U=a(10),G=a.n(U),Z=Object(p.b)((function(e){return{array:H(e),rows:T(e),cells:x(e),illuminatedQty:L(e),sumColumn:k(e),columnQty:D(e)}}),(function(e){return{onIncrease:function(t){return e(function(e){return{type:v.INCREASE,payload:{id:e}}}(t))},onRemove:function(t,a){return e(function(e,t){return{type:v.REMOVE_ROW,payload:{id:e,cellsIds:t}}}(t,a))},onAdd:function(t,a,n){return e(function(e,t,a){return{type:v.ADD_ROW,payload:{rowId:e,row:t,cells:a}}}(t,a,n))}}}))(r.a.memo((function(e){var t=e.array,a=e.rows,o=e.cells,l=e.illuminatedQty,u=e.onIncrease,c=e.sumColumn,i=e.onRemove,s=e.onAdd,m=e.columnQty,f=Object(n.useState)({}),d=Object(S.a)(f,2),p=d[0],v=d[1],_=function(e){var t=e.target.id,a=J(o,t,l);v(a)},b=function(){v({})},y=function(e){var t=e.target.id;u(t)},A=function(e){var t=e.target.parentNode.parentNode.id;i(t,a[t])};return t.length>0&&r.a.createElement("div",{className:G.a.tableWrapper},r.a.createElement("table",{className:G.a.table},r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement(V,{key:e,id:e,row:a[e],cells:o,onHover:_,offHover:b,illuminated:p,onIncrease:y,sumCell:c[t],onRemove:A})})),r.a.createElement(q,null),r.a.createElement("tr",null,r.a.createElement("td",{className:G.a.addCell,colSpan:m},r.a.createElement("button",{className:G.a.addButton,onClick:function(){var e=E(1,m),t=e.array,a=e.rows,n=e.cells;s(t,a,n)}},"+"))))))}))),K=a(27),z=a.n(K),$=function(){return r.a.createElement("div",{className:z.a.container},r.a.createElement(R,null),r.a.createElement(Z,null))},ee=a(7),te=a(18),ae=Object(ee.b)({array:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.ADD_ROW:return[].concat(Object(te.a)(e),Object(te.a)(n.rowId));case v.REMOVE_ROW:return e.filter((function(e){return e!==n.id}));case v.SAVE_ARRAY:return n.array;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.ADD_ROW:return Object(c.a)({},e,{},n.row);case v.REMOVE_ROW:var r=n.id,o=(e[r],Object(F.a)(e,[r].map(Y.a)));return o;case v.SAVE_ROWS:return n.rows;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.ADD_ROW:return Object(c.a)({},e,{},n.cells);case v.REMOVE_ROW:var r=n.cellsIds.reduce((function(e,t){e[t];return Object(F.a)(e,[t].map(Y.a))}),e);return r;case v.SAVE_CELLS:return n.cells;case v.INCREASE:return Object(c.a)({},e,Object(u.a)({},n.id,Object(c.a)({},e[n.id],{amount:e[n.id].amount+1})));default:return e}},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_PARAMS:return t.payload.params;default:return e}}}),ne=Object(ee.c)(ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(p.a,{store:ne},r.a.createElement($,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.05b23fa7.chunk.js.map