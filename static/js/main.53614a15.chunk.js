(this["webpackJsonpmemcrab-test"]=this["webpackJsonpmemcrab-test"]||[]).push([[0],{1:function(e,t,n){e.exports={formWrapper:"Inputs_formWrapper__3qvIq",form:"Inputs_form__2CPZL",formTitle:"Inputs_formTitle__8nqar",inputWrapper:"Inputs_inputWrapper__1ECfZ",label:"Inputs_label__2t_1J",input:"Inputs_input__u-M3Q",submitButton:"Inputs_submitButton__BGAA0"}},17:function(e,t,n){e.exports={tableWrapper:"Array_tableWrapper__3r1cA",table:"Array_table__1EVmf",addCell:"Array_addCell__3PXuk"}},22:function(e,t,n){e.exports={simpleTd:"ArrayCell_simpleTd__3ouJW"}},23:function(e,t,n){e.exports={sumCell:"SumCell_sumCell__1CXIY"}},24:function(e,t,n){e.exports={avarageTd:"AvarageRow_avarageTd__ZvmOI"}},25:function(e,t,n){e.exports={button:"AddRowButton_button__3egkv"}},28:function(e,t,n){e.exports={container:"App_container__1wjkN"}},30:function(e,t,n){e.exports=n(44)},43:function(e,t,n){e.exports={removeButton:"ArrayRow_removeButton__1w377 AddRowButton_button__3egkv",removeButtonTd:"ArrayRow_removeButtonTd__1yrTV Array_addCell__3PXuk"}},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),o=n.n(l),u=n(4),i=n(12),c=n(6),s=n(7),m=n(10),f=n(8),d=n(11),p=n(2),v={SAVE_PARAMS:"SAVE_PARAMS",SAVE_ARRAY:"SAVE_ARRAY",SAVE_ROWS:"SAVE_ROWS",SAVE_CELLS:"SAVE_CELLS",REMOVE_ROW:"REMOVE_ROW",ADD_ROW:"ADD_ROW",INCREASE:"INCREASE",ILLUMINATE:"ILLUMINATE"},_=n(19),b=function(e,t){for(var n=[],a={},r={},l=0;l<e;l++){var o=_();n[l]=o,a[o]=[];for(var u=0;u<t;u++){var i=_();a[o][u]=i,r[i]={id:i,amount:E()}}}return{array:n,rows:a,cells:r}},E=function(){return Math.floor(1e3*Math.random())},y=n(1),h=n.n(y),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={m:"",n:"",x:""},n.inputHandler=function(e){var t=e.target,a=t.id,r=t.value;n.setState((function(e){return Object(i.a)({},e,Object(u.a)({},a,r))}))},n.submitHandler=function(e){e.preventDefault();var t=n.state,a=t.m,r=t.n,l=t.x,o=n.props,u=o.onSaveParams,i=o.onSaveArray,c=o.onSaveRows,s=o.onSaveCells;if(a<=0||r<=0||l<0)alert("array parameters must be more then 0");else{u({n:r,x:l});var m=b(a,r),f=m.array,d=m.rows,p=m.cells;i(f),c(d),s(p),n.setState({m:"",n:"",x:""})}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.m,n=e.n,a=e.x;return r.a.createElement("div",{className:h.a.formWrapper},r.a.createElement("h1",{className:h.a.formTitle},"Enter table parameters"),r.a.createElement("form",{className:h.a.form,onSubmit:this.submitHandler},r.a.createElement("div",{className:h.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:h.a.label},"Rows quantity:"),r.a.createElement("input",{className:h.a.input,type:"number",name:"rows",id:"m",onChange:this.inputHandler,value:t,placeholder:"0"})),r.a.createElement("div",{className:h.a.inputWrapper},r.a.createElement("label",{htmlFor:"n",className:h.a.label},"Columns quantity:"),r.a.createElement("input",{className:h.a.input,type:"number",name:"columns",id:"n",onChange:this.inputHandler,value:n,placeholder:"0"})),r.a.createElement("div",{className:h.a.inputWrapper},r.a.createElement("label",{htmlFor:"m",className:h.a.label},"Illuminated cells quantity:"),r.a.createElement("input",{className:h.a.input,type:"number",name:"illuminate",id:"x",onChange:this.inputHandler,value:a,placeholder:"0"})),r.a.createElement("div",null,r.a.createElement("input",{className:h.a.submitButton,type:"submit",value:"Generate"}))))}}]),t}(a.Component),O=Object(p.b)(null,(function(e){return{onSaveParams:function(t){return e(function(e){return{type:v.SAVE_PARAMS,payload:{params:e}}}(t))},onSaveArray:function(t){return e(function(e){return{type:v.SAVE_ARRAY,payload:{array:e}}}(t))},onSaveRows:function(t){return e(function(e){return{type:v.SAVE_ROWS,payload:{rows:e}}}(t))},onSaveCells:function(t){return e(function(e){return{type:v.SAVE_CELLS,payload:{cells:e}}}(t))}}}))(A),S=n(21),w=function(e){return e.array},R=function(e){return Number(e.params.x)},g=function(e){return e.rows},j=function(e){return e.cells},N=function(e,t){return function(e,t){return e.rows[t]}(e,t).cells.reduce((function(e,t){return e+t.amount}),0)},C=n(19),V=Object(S.a)([w],(function(e){for(var t=[],n=0;n<e[n].length;n++){for(var a=0,r=0;r<e.length;r++)a+=e[r].cells[n].amount;t.push({id:C(),amount:(a/e.length).toFixed(2)})}return t})),H=n(22),W=n.n(H),I=r.a.memo((function(e){var t=e.cell,n=e.id,a=e.onHover,l=e.offHover,o={background:"linear-gradient(110deg,#eee 0%,#e3e3e3 10%,#fff 20%,#fff 25%,#f0f0f0 26%,#fff 28%,#ddd 55%,#eee 100%)"};return e.illuminated[n]&&(o.background="linear-gradient(110deg, #f90c04 0%, #ed413b 10%, #fff 20%, #fff 25%, #f0f0f0 26%, #fff 28%, #f53d37 55%, #f90c04 100%)"),r.a.createElement("td",{className:W.a.simpleTd,id:n,onMouseEnter:a,onMouseLeave:l,style:o},t.amount)}),(function(e,t){var n=e.illuminated,a=e.id;return t.illuminated[a]===n[a]})),x=n(23),T=n.n(x),L=(Object(p.b)((function(e,t){var n=t.id;return{sum:N(e,n)}}))(r.a.memo((function(e){var t=e.sum,n=e.onHover;return r.a.createElement("td",{onMouseEnter:n,onMouseLeave:n,className:T.a.sumCell},t)}))),n(43),r.a.memo((function(e){var t=e.row,n=e.id,a=e.onHover,l=e.offHover,o=e.illuminated,u=e.cells;return r.a.createElement("tr",{id:n},t.map((function(e){return r.a.createElement(I,{key:e,id:e,onHover:a,offHover:l,illuminated:o,cell:u[e]})})))}),(function(e,t){var n=e.illuminated,a=e.row,r=!0,l=!1,o=void 0;try{for(var u,i=a[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var c=u.value;if(t.illuminated[c]!==n[c])return!1}}catch(s){l=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw o}}return!0}))),M=n(24),k=n.n(M),B=(Object(p.b)((function(e){return{averageRow:V(e)}}))((function(e){var t=e.averageRow;return r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("td",{className:k.a.avarageTd,key:e.id,id:e.id},e.amount)})))})),n(25)),D=n.n(B),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).addHandler=function(){(0,n.props.onAdd)(b(1))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:D.a.button,onClick:this.addHandler},"+")}}]),t}(a.Component),X=(Object(p.b)((function(e){return{}}),(function(e){return{onAdd:function(t){return e(function(e){return{type:v.ADD_ROW,payload:{newRow:e}}}(t))}}}))(P),n(17)),q=n.n(X),Y=n(26),F=n(29),J=n(27),U=function(e,t,n){Object(J.a)(e[t]);var a=Object(Y.a)(e,[t].map(F.a)),r=Object.values(a);if(n<r.length){var l=e[t];r.sort((function(e,t){return Math.abs(e.amount-l.amount)-Math.abs(t.amount-l.amount)}))}var o=r.slice(0,n).reduce((function(e,t){return Object(i.a)({},e,Object(u.a)({},t.id,!0))}),{});return Object(i.a)(Object(u.a)({},t,!0),o)},Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new t(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={illuminated:{}},n.hoverOnHandler=function(e){var t=n.props,a=t.illuminatedQty,r=t.cells,l=e.target.id,o=U(r,l,a);n.setState({illuminated:o})},n.hoverOffHandler=function(e){n.setState({illuminated:{}})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;console.log("array");var t=this.props,n=t.array,a=t.rows,l=t.cells;return n.length>0&&r.a.createElement("div",{className:q.a.tableWrapper},r.a.createElement("table",{className:q.a.table},r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement(L,{key:t,id:t,row:a[t],cells:l,onHover:e.hoverOnHandler,offHover:e.hoverOffHandler,illuminated:e.state.illuminated})})))))}}]),t}(a.PureComponent),Z=Object(p.b)((function(e){return{array:w(e),rows:g(e),cells:j(e),illuminatedQty:R(e)}}))(Q),G=n(28),z=n.n(G),K=function(){return r.a.createElement("div",{className:z.a.container},r.a.createElement(O,null),r.a.createElement(Z,null))},$=n(9),ee=Object($.b)({array:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_ARRAY:return t.payload.array;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_ROWS:return t.payload.rows;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_CELLS:return t.payload.cells;default:return e}},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SAVE_PARAMS:return t.payload.params;default:return e}}}),te=Object($.c)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(p.a,{store:te},r.a.createElement(K,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.53614a15.chunk.js.map