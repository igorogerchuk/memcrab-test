(this["webpackJsonpmemcrab-test"]=this["webpackJsonpmemcrab-test"]||[]).push([[0],{19:function(e,t,a){e.exports=a(40)},33:function(e,t,a){e.exports={formWrapper:"formWrapper___Xr_Ln",form:"form___1t6C-",formTitle:"formTitle___1Sczm",inputWrapper:"inputWrapper___1nGv5",label:"label___2sD9G",input:"input___3WuZL",submitButton:"submitButton___1e-tC"}},34:function(e,t,a){e.exports={simpleTd:"simpleTd___1ELya"}},35:function(e,t,a){e.exports={sumCell:"sumCell___2yW_R"}},36:function(e,t,a){e.exports={removeButton:"removeButton___2Sb5_ addButton___2a67D",removeButtonTd:"removeButtonTd___1OWGN addCell___a54He"}},37:function(e,t,a){e.exports={averageTd:"averageTd___FDFfU"}},38:function(e,t,a){e.exports={tableWrapper:"tableWrapper___3mKZT",table:"table___3XwP7",addCell:"addCell___a54He",addButton:"addButton___2a67D"}},39:function(e,t,a){e.exports={container:"container___2qaOc"}},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),u=a.n(l),o=a(3),c=a(2),i=a(6),m=a(1),s=a(30),_=function(e,t){var a=Array.from({length:e},(function(){return s()})),n=Array.from({length:e*t},(function(){return s()})),r=a.reduce((function(e,a,r){return e[a]=n.slice(r*t,r*t+t),e}),{});return{array:a,rows:r,cells:n.reduce((function(e,t){return e[t]={id:t,amount:d()},e}),{})}},d=function(){return Math.floor(1e3*Math.random())},f=(a(33),function(){var e=Object(m.c)(),t=Object(n.useState)({m:"",n:"",x:""}),a=Object(i.a)(t,2),l=a[0],u=a[1],s=l.m,d=l.n,f=l.x,p=function(e){var t=e.target,a=t.id,n=t.value;u(Object(c.a)({},l,Object(o.a)({},a,n)))};return r.a.createElement("div",{className:"formWrapper___Xr_Ln"},r.a.createElement("h1",{className:"formTitle___1Sczm"},"Enter table parameters"),r.a.createElement("form",{className:"form___1t6C-",onSubmit:function(t){t.preventDefault();var a=+s,n=+d,r=+f;a<=0||n<=0||r<0?alert("array parameters must be more then 0"):(Object(m.b)((function(){e(function(e){return{type:"SAVE_PARAMS",payload:{params:e}}}({n:n,x:r}));var t=_(a,n),l=t.array,u=t.rows,o=t.cells;e(function(e){return{type:"SAVE_ARRAY",payload:{array:e}}}(l)),e(function(e){return{type:"SAVE_ROWS",payload:{rows:e}}}(u)),e(function(e){return{type:"SAVE_CELLS",payload:{cells:e}}}(o))})),u({m:"",n:"",x:""}))},id:"form"},r.a.createElement("div",{className:"inputWrapper___1nGv5"},r.a.createElement("label",{htmlFor:"m",className:"label___2sD9G"},"Rows quantity:"),r.a.createElement("input",{className:"input___3WuZL",type:"number",name:"rows",id:"m",onChange:p,value:s,placeholder:"0"})),r.a.createElement("div",{className:"inputWrapper___1nGv5"},r.a.createElement("label",{htmlFor:"n",className:"label___2sD9G"},"Columns quantity:"),r.a.createElement("input",{className:"input___3WuZL",type:"number",name:"columns",id:"n",onChange:p,value:d,placeholder:"0"})),r.a.createElement("div",{className:"inputWrapper___1nGv5"},r.a.createElement("label",{htmlFor:"m",className:"label___2sD9G"},"Illuminated cells quantity:"),r.a.createElement("input",{className:"input___3WuZL",type:"number",name:"illuminate",id:"x",onChange:p,value:f,placeholder:"0"})),r.a.createElement("div",null,r.a.createElement("input",{className:"submitButton___1e-tC",type:"submit",value:"Generate"}))))}),p=a(16),v=(a(34),r.a.memo((function(e){var t=e.cell,a=e.id,n=e.onHover,l=e.offHover,u=e.illuminated,o=e.onIncrease,c=e.sumHover,i=e.sum,m={background:"linear-gradient(110deg,#eee 0%,#e3e3e3 10%,#fff 20%,#fff 25%,#f0f0f0 26%,#fff 28%,#ddd 55%,#eee 100%)"},s=t.amount;if(u[a]&&(m.background="linear-gradient(110deg, #f90c04 0%, #ed413b 10%, #fff 20%, #fff 25%, #f0f0f0 26%, #fff 28%, #f53d37 55%, #f90c04 100%)"),c){var _=t.amount/i*100;m.background="linear-gradient(to top, #fff200, #1e9600 ".concat(_,"%, transparent ").concat(_,"%)"),s=_.toFixed(1)+"%"}return r.a.createElement("td",{className:"simpleTd___1ELya",onClick:o,id:a,onMouseEnter:n,onMouseLeave:l,style:m},s)}),(function(e,t){var a=e.illuminated,n=e.id,r=e.cell,l=e.sumHover;return t.illuminated[n]===a[n]&&(t.cell.amount===r.amount&&t.sumHover===l)}))),b=(a(35),r.a.memo((function(e){var t=e.sum,a=e.onHover;return r.a.createElement("td",{onMouseEnter:a,onMouseLeave:a,className:"sumCell___2yW_R"},t)}),(function(e,t){var a=e.sum;return t.sum===a}))),y=(a(36),r.a.memo((function(e){var t=e.row,a=e.id,l=e.onHover,u=e.offHover,o=e.illuminated,c=e.cells,m=e.onIncrease,s=e.sumCell,_=e.onRemove,d=Object(n.useState)(!1),f=Object(i.a)(d,2),p=f[0],y=f[1];return r.a.createElement("tr",{id:a},t.map((function(e){return r.a.createElement(v,{sumHover:p,sum:s,key:e,id:e,onHover:l,offHover:u,illuminated:o,cell:c[e],onIncrease:m})})),r.a.createElement(b,{onHover:function(){return y((function(e){return!e}))},sum:s}),r.a.createElement("td",{className:"removeButtonTd___1OWGN addCell___a54He"},r.a.createElement("button",{className:"removeButton___2Sb5_ addButton___2a67D",onClick:_,id:a},"\xd7")))}),(function(e,t){var a,n=e.illuminated,r=e.row,l=e.cells,u=Object(p.a)(r);try{for(u.s();!(a=u.n()).done;){var o=a.value;if(t.illuminated[o]!==n[o])return!1;if(t.cells[o].amount!==l[o].amount)return!1}}catch(c){u.e(c)}finally{u.f()}return!0}))),E=a(12),O=function(e){return e.rows},j=function(e){return e.cells},h=function(e){return e.params.n},g=function(e){return e.params.x},w=Object(E.a)([O,j],(function(e,t){return Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.reduce((function(e,a){return e+t[a].amount}),0)}))})),R=Object(E.a)([O,j,h],(function(e,t,a){var n=Object.keys(e).map((function(t){return e[t]})),r=n.length;return n.reduce((function(e,a){return a.map((function(a,n){return e[n]+=t[a].amount/r}))}),new Array(a).fill(0))})),W=(a(37),r.a.memo((function(e){var t=e.averageCell;return r.a.createElement("td",{className:"averageTd___FDFfU"},t.toFixed(2))}))),A=function(){var e=Object(m.d)(R);return r.a.createElement("tr",null,e.map((function(e,t){return r.a.createElement(W,{key:t,averageCell:e})})))},C=function(e,t,a){var n=Object(c.a)({},e);delete n[t];var r=Object.keys(n).map((function(e){return n[e]}));if(a<r.length){var l=e[t];r.sort((function(e,t){return Math.abs(e.amount-l.amount)-Math.abs(t.amount-l.amount)}))}var u=r.slice(0,a).reduce((function(e,t){return Object(c.a)({},e,Object(o.a)({},t.id,!0))}),{});return Object(c.a)(Object(o.a)({},t,!0),u)},N=(a(38),function(){var e=Object(m.d)((function(e){return e})),t=e.array,a=e.rows,l=e.cells,u=Object(m.d)(g),o=Object(m.d)(h),c=Object(m.d)(w),s=Object(m.c)(),d=Object(n.useState)({}),f=Object(i.a)(d,2),p=f[0],v=f[1],b=function(e){var t=e.currentTarget.id,a=C(l,t,u);v(a)},E=function(){v({})},O=function(e){var t=e.currentTarget.id;s(function(e){return{type:"INCREASE",payload:{id:e}}}(t))},j=function(e){var t=e.currentTarget.id;s(function(e,t){return{type:"REMOVE_ROW",payload:{id:e,cellsIds:t}}}(t,a[t]))};return t.length>0&&r.a.createElement("div",{className:"tableWrapper___3mKZT"},r.a.createElement("table",{className:"table___3XwP7"},r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement(y,{key:e,id:e,row:a[e],cells:l,onHover:b,offHover:E,illuminated:p,onIncrease:O,sumCell:c[t],onRemove:j})})),r.a.createElement(A,null),r.a.createElement("tr",null,r.a.createElement("td",{className:"addCell___a54He",colSpan:o},r.a.createElement("button",{id:"addButton",className:"addButton___2a67D",onClick:function(){var e=_(1,o),t=e.array,a=e.rows,n=e.cells;s(function(e,t,a){return{type:"ADD_ROW",payload:{array:e,row:t,cells:a}}}(t,a,n))}},"+"))))))}),S=(a(39),function(){return r.a.createElement("div",{className:"container___2qaOc"},r.a.createElement(f,null),r.a.createElement(N,null))}),D=a(5),T=a(18),H=a(17),x=a(13),B=Object(D.b)({array:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROW":return[].concat(Object(x.a)(e),Object(x.a)(t.payload.array));case"REMOVE_ROW":return e.filter((function(e){return e!==t.payload.id}));case"SAVE_ARRAY":return t.payload.array;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROW":return Object(c.a)({},e,{},t.payload.row);case"REMOVE_ROW":var a=t.payload.id,n=(e[a],Object(T.a)(e,[a].map(H.a)));return n;case"SAVE_ROWS":return t.payload.rows;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROW":return Object(c.a)({},e,{},t.payload.cells);case"REMOVE_ROW":var a=t.payload.cellsIds,n=Object.keys(e).reduce((function(t,n){return a.includes(n)?t:Object(c.a)({},t,Object(o.a)({},n,e[n]))}),{});return n;case"SAVE_CELLS":return t.payload.cells;case"INCREASE":return Object(c.a)({},e,Object(o.a)({},t.payload.id,Object(c.a)({},e[t.payload.id],{amount:e[t.payload.id].amount+1})));default:return e}},params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_PARAMS":return t.payload.params;default:return e}}}),k={array:[],rows:{},cells:{},params:{}};var L=document.getElementById("root"),M=window.__REDUX_STATE__;delete window.__REDUX_STATE__;var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return Object(D.c)(B,e)}(M);L&&u.a.hydrate(r.a.createElement(m.a,{store:V},r.a.createElement(S,null)),L)}},[[19,1,2]]]);
//# sourceMappingURL=main.5eb97a4b.chunk.js.map